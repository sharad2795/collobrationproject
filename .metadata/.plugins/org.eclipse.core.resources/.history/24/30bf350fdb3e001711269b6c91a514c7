'use strict';
 
app.service('blogservice', ['$http', '$q','$rootScope', function($http, $q,$rootScope){
	
	console.log("blogService...")
	
	var BASE_URL='http://localhost:8008/collobrationRS/'
		
    return {
		createblog: function(blog)
        {
        	console.log("calling create blog")
                return $http.post(BASE_URL+'createblog/', blog) //1
                        .then(
                                function(response)
                                {
                                    return response.data;
                                }, 
                                function(errResponse)
                                {
                                    console.error('Error while creating blog');
                                    return $q.reject(errResponse);
                                }
                        );
        },
        fetchallblogs: function()
        {
        	console.log("calling fetchall blog")
                return $http.get(BASE_URL+'listapprovedblogs/') //1
                        .then(
                                function(response)
                                {
                                    return response.data;
                                }, 
                                function(errResponse)
                                {
                                    console.error('Error while fetching blog');
                                    return $q.reject(errResponse);
                                }
                        );
        },
        
        updateblog: function(blog)
        {
        	console.log("calling update blog")
                return $http.put(BASE_URL+'updateblog/',blog) //1
                        .then(
                                function(response)
                                {
                                    return response.data;
                                }, 
                                function(errResponse)
                                {
                                    console.error('Error while fetching blog');
                                    return $q.reject(errResponse);
                                }
                        );
        },
        fetchblogbyid: function(blog)
        {
        	console.log("calling fetchblogbyid blog")
                return $http.post(BASE_URL+'listblogbyid/',blog) //1
                        .then(
                                function(response)
                                {
                                    return response.data;
                                }, 
                                function(errResponse)
                                {
                                    console.error('Error while fetching blog');
                                    return $q.reject(errResponse);
                                }
                        );
        }
      
              
	};
	 
}]);